<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>戦国戦略シミュレーション（完全版）</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div id="app">
        <header>
            <h1>戦国戦略 プロトタイプ</h1>
            <div id="global-status">
                <span id="date-display">1560年 1月</span>
                <div class="header-controls">
                    <button id="next-turn-btn" onclick="window.GameApp.nextTurn()">進行 / パス</button>
                    <button onclick="window.GameApp.saveGame()">セーブ</button>
                    <button onclick="window.GameApp.loadGame()">ロード</button>
                </div>
            </div>
        </header>

        <main id="main-view">
            <div id="map-container">
                </div>

            <div id="control-panel" class="panel hidden">
                <h2 id="panel-title">城名</h2>
                
                <div class="resource-grid">
                    <div class="res-item">
                        <span class="res-label">金</span>
                        <span class="res-value" id="panel-gold">0</span>
                    </div>
                    <div class="res-item">
                        <span class="res-label">米</span>
                        <span class="res-value" id="panel-rice">0</span>
                    </div>
                    <div class="res-item">
                        <span class="res-label">兵士</span>
                        <span class="res-value" id="panel-soldiers">0</span>
                    </div>
                    <div class="res-item">
                        <span class="res-label">防御</span>
                        <span class="res-value" id="panel-defense">0</span>
                    </div>
                </div>

                <div class="sub-info">
                    <button class="info-btn" onclick="window.GameApp.showBushoList()">武将一覧・詳細</button>
                </div>

                <hr>
                
                <div id="action-buttons">
                    </div>
            </div>
        </main>

        <div id="log-window">
            <h3>履歴</h3>
            <div id="log-content"></div>
        </div>

        <div id="busho-modal" class="modal hidden">
            <div class="modal-content busho-list-content">
                <div class="modal-header">
                    <h2>所属武将一覧</h2>
                    <button onclick="window.GameApp.closeBushoModal()">閉じる</button>
                </div>
                <div id="busho-list-container">
                    </div>
            </div>
        </div>

        <div id="war-modal" class="modal hidden">
            <div class="modal-content war-content">
                <h2>合戦</h2>
                <div class="war-status-board">
                    <div class="army-box attacker">
                        <h3 class="army-title">攻撃軍: <span id="war-atk-name"></span></h3>
                        <div class="army-stats">
                            <div>大将: <span id="war-atk-busho"></span></div>
                            <div>兵士: <span id="war-atk-soldier" class="highlight-val"></span></div>
                        </div>
                    </div>
                    
                    <div class="vs-badge">VS</div>

                    <div class="army-box defender">
                        <h3 class="army-title">守備軍: <span id="war-def-name"></span></h3>
                        <div class="army-stats">
                            <div>大将: <span id="war-def-busho"></span></div>
                            <div>兵士: <span id="war-def-soldier" class="highlight-val"></span></div>
                            <div>城防御: <span id="war-def-wall" class="highlight-val"></span></div>
                        </div>
                    </div>
                </div>

                <div class="war-info-bar">
                    ラウンド: <span id="war-round">1</span> / 10 | 手番: <span id="war-turn-actor">--</span>
                </div>

                <div id="war-log"></div>

                <div id="war-controls" class="disabled-area">
                    <button onclick="window.GameApp.execWarCmd('bow')">弓攻撃(小)</button>
                    <button onclick="window.GameApp.execWarCmd('siege')">城攻め(対城)</button>
                    <button onclick="window.GameApp.execWarCmd('charge')">力攻め(大)</button>
                    <button onclick="window.GameApp.execWarCmd('scheme')">計略(知謀)</button>
                    <button onclick="window.GameApp.execWarCmd('retreat')" class="btn-danger">撤退</button>
                </div>
            </div>
        </div>
    </div>
    <script src="game.js"></script>
</body>
</html>